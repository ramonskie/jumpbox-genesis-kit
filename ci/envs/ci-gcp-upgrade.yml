---
kit:
  features:
    - ((append))
    - openvpn

genesis:
  env:   ci-gcp-upgrade

params:
  disk_type:          default
#  base_domain:        (( concat meta._ip_prefix "8.49.netip.cc" ))
#  postgres_vip:       (( concat meta._ip_prefix "8.48" ))
  availability_zones: [z1, z2, z3]
#  haproxy_ips:        [ (( concat meta._ip_prefix "8.49" )) ]
  vpn_client_routes:
    - 10.0.0.0 255.255.248.0
  vpn_dns_servers:
    - 8.8.8.8
    - 8.8.4.4
  vpn_iptables_forward:
    - -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT
  vpn_dns_search_domains:
    - lab.starkandwayne.com
    - snw.local
  vpn_external_ip: vpn2.starkandwayne.com
  vpn_external_port: 1194
  vpn_protocol: udp
#  vpn_compress: lz4-v2
  vpn_extra_configs:
    - fast-io
    - sndbuf 0
    - rcvbuf 0
  vpn_extra_client_configs:
    - fast-io
    - sndbuf 393216
    - rcvbuf 393216

  users:
    - name: test-user
      shell: /bin/bash
      ssh_keys:
        - (( vault "secret/ci/baseline/jumpbox/test-user:public" ))
